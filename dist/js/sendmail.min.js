"use strict";!function(){var sendMail={cacheDom:function(){this.contactUsForm=$("#contact-us form"),this.submitButton=this.contactUsForm.find(".btn--submit"),this.name=this.contactUsForm.find("#name"),this.surname=this.contactUsForm.find("#surname"),this.email=this.contactUsForm.find("#email"),this.message=this.contactUsForm.find("#message")},validateForm:function(formBody){function validateEmail(email){var re=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(email)}var formValid=!1;return $.each(formBody,function(key,field){"surname"!==key&&(field.length?($(sendMail[key]).removeClass("form-error"),formValid=!0):($(sendMail[key]).addClass("form-error"),formValid=!1)),"email"===key&&field.length&&!validateEmail(field)&&($(sendMail[key]).addClass("form-error"),formValid=!1)}),formValid},bindEvents:function(){this.submitButton.on("click",this.postFormToPHP.bind(this))},postFormToPHP:function(event){event.preventDefault();var body={name:this.name.val(),surname:this.surname.val(),email:this.email.val(),message:this.message.val()},formValid=this.validateForm(body);if(formValid){var success=!1,emailClass=success?"success":"error",emailResponseText="",emailResponse="";$.ajax({type:"POST",url:"./mail/mail.php",data:body,cache:!1}).done(function(response){success=!0,emailResponseText=response,emailResponse='<div class="email-outcome email-'+emailClass+'">'+emailResponseText+"</div>",$(".email-outcome").length||sendMail.contactUsForm.append(emailResponse),sendMail.contactUsForm.trigger("reset"),setTimeout(function(){$(".email-outcome").remove()},5e3)}).fail(function(error){success=!1,emailResponseText=error.responseText,emailResponse='<div class="email-outcome email-'+emailClass+'">'+emailResponseText+"</div>",$(".email-outcome").length||sendMail.contactUsForm.append(emailResponse),setTimeout(function(){$(".email-outcome").remove()},5e3)})}},init:function(){this.cacheDom(),this.bindEvents()}};return sendMail.init()}();